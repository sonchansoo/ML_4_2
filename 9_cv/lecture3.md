## 🔍 강의 요약
이번 강의에서는 컴퓨터 비전의 핵심 연산인 이미지 필터링(Image Filtering)에 대해 학습합니다. 개별 픽셀 값만으로는 객체를 인식하기 어렵기 때문에, 주변 픽셀과의 관계 속에서 패턴(엣지, 질감 등)을 추출하는 필터링이 필수적입니다. 강의는 노이즈를 줄이는 **스무딩 필터(Smoothing Filters)**와 이미지의 경계선을 찾는 **엣지 검출 필터(Edge Detection Filters)**라는 두 가지 주요 필터 유형을 중심으로 진행됩니다. 필터(커널)를 이미지 전체에 이동시키며 적용하는 컨볼루션(Convolution) 연산의 기본 원리를 이해하고, 다양한 필터 설계가 어떻게 다른 특징을 강조하는지 살펴봅니다.

## 💡 핵심 포인트
- **패턴의 중요성**: 컴퓨터 비전에서 인식은 개별 픽셀 값이 아닌, 픽셀들이 함께 변화하며 만들어내는 **패턴(Patterns)**과 **대비(Contrasts)**를 통해 이루어집니다.
- **필터링의 역할**: 이미지 필터링은 원본 이미지의 불필요한 정보(노이즈 등)를 억제하고, 엣지, 코너, 질감과 같은 유용한 시각적 특징을 강조하는 과정입니다.
- **컨볼루션(Convolution)**: 필터(커널)를 이미지 위에서 슬라이딩하며 각 위치에서 곱셈과 합산 연산을 수행하여 새로운 특징 맵(Feature Map)을 생성하는 핵심 연산입니다.
- **필터 디자인의 힘**: 어떤 필터(커널)를 사용하느냐에 따라 강조되는 특징이 달라집니다. 예를 들어, 수직 엣지 필터는 수직 방향의 경계선에만 강하게 반응합니다.
- **스무딩과 엣지 검출**: 엣지 검출 필터는 노이즈에 민감하므로, 일반적으로 **스무딩 필터를 먼저 적용하여 노이즈를 제거한 후 엣지를 검출**하는 것이 더 깨끗하고 의미 있는 결과를 얻습니다.

## 세부 내용 📚
### 1️⃣ 이미지 필터링의 개념과 중요성
- **숫자에서 패턴으로**: 컴퓨터는 이미지를 숫자 배열로 인식하기 때문에, 개별 픽셀 값만으로는 고양이와 개를 구분하기 어렵습니다. 인식의 핵심은 픽셀 값들이 주변과 어떻게 함께 변하는지에 대한 **패턴**에 있습니다.
- **필터링(Filtering)이란?**: 픽셀과 그 주변 픽셀들을 함께 고려하여 노이즈를 제거하거나(Smoothing), 엣지를 날카롭게 하거나(Sharpening), 윤곽선을 검출하는(Detecting contours) 등 특정 구조를 강조하는 새로운 이미지를 생성하는 도구입니다.
- **딥러닝과의 연결**: 과거에는 HOG, SIFT와 같이 직접 설계한 **수제 필터(Handcrafted filters)**를 사용했지만, 현대의 CNN(Convolutional Neural Networks)은 이러한 필터들을 데이터로부터 자동으로 학습합니다. 필터링의 원리를 이해하는 것은 CNN의 동작 방식을 이해하는 기초가 됩니다.

### 2️⃣ 엣지 검출 필터 (Edge Detection Filters)
- **엣지(Edge)란?**: 객체와 배경 사이처럼 이미지에서 픽셀의 밝기(intensity)가 급격하게 변하는 지점입니다. 엣지는 객체의 **형태(shape)**를 정의하는 가장 기본적인 정보입니다.
- **그래디언트(Gradients) 측정**: 엣지는 픽셀 값의 변화율, 즉 그래디언트가 큰 곳에서 나타납니다. 엣지 필터는 이 그래디언트를 측정하는 역할을 합니다.
- **1D 필터에서 2D 필터로**:
    - **1D 필터**: `[1, -1]` 또는 `[1, 0, -1]`과 같은 간단한 템플릿(커널)을 사용하여 한쪽 방향(수평 또는 수직)의 엣지만 검출합니다. 하지만 노이즈에 민감하고 비대칭적인 문제가 있습니다.
    - **2D 필터 (3x3 커널)**: 주변의 행과 열을 함께 고려하여 노이즈에 더 강인하고(robust) 균형 잡힌(balanced) 엣지를 검출합니다.
- **주요 엣지 필터**:
    - **Prewitt & Sobel 필터**: 이미지의 1차 미분(1st derivative)을 근사하여 엣지를 찾습니다. Sobel 필터는 중앙 행/열에 더 높은 가중치(2)를 부여하여 Prewitt보다 노이즈에 강하고 안정적인 결과를 보입니다.
    - **Laplacian 필터**: 이미지의 2차 미분(2nd derivative)을 근사합니다. 모든 방향의 엣지를 한 번에 검출하며, 엣지의 정확한 위치(zero-crossing 지점)를 찾는 데 유리하지만 노이즈에 더 민감할 수 있습니다.
    - **Canny 엣지 검출기**: Sobel을 기반으로 여러 단계(가우시안 스무딩, Non-maximum suppression 등)를 거쳐 깨끗하고, 얇으며, 끊김 없는 엣지를 생성하는 가장 정교한 방법 중 하나입니다.

### 3️⃣ 스무딩 필터 (Smoothing Filters)
- **이미지 노이즈**: 카메라 센서의 한계, 전자적 간섭, JPEG 압축 등으로 인해 이미지에는 원치 않는 임의의 변화(노이즈)가 포함됩니다.
- **스무딩의 목적**: 엣지 필터는 노이즈를 엣지로 오인하여 증폭시키는 경향이 있습니다. 스무딩은 이러한 노이즈와 미세한 질감(fine textures)을 제거하여 이미지를 부드럽게 만들고, 엣지 검출기가 중요한 경계선에 집중하도록 돕습니다.
- **주요 스무딩 필터**:
    - **Average Filter (Box Filter)**: 주변 픽셀들의 값을 모두 동일한 가중치로 평균 내어 현재 픽셀 값을 대체합니다. 커널 크기가 커질수록 스무딩 효과는 강해지지만, 엣지까지 흐려지는 단점이 있습니다.
    - **Gaussian Filter**: 중심 픽셀에 가장 큰 가중치를, 멀어질수록 점차 작은 가중치를 부여하는 가우시안(종 모양) 분포를 사용합니다. Average 필터보다 엣지를 더 잘 보존하면서 자연스러운 스무딩 효과를 냅니다.
    - **Median Filter**: **비선형(Non-linear)** 필터로, 주변 픽셀 값들을 정렬한 후 **중앙값(median)**을 선택합니다. 특히 소금-후추 노이즈(salt-and-pepper noise) 제거에 매우 효과적이며, 엣지를 잘 보존합니다.
- **패딩 (Padding)**: 필터링 시 이미지 가장자리 픽셀들이 손실되어 출력 이미지 크기가 줄어드는 것을 방지하기 위해, 이미지 외곽에 추가적인 픽셀을 덧대는 기법입니다.
    - **Zero Padding**: 0으로 채웁니다.
    - **Replicate Padding**: 가장자리 픽셀 값을 복사하여 채웁니다.
    - **Reflect (Mirror) Padding**: 이미지 경계를 거울처럼 반사하여 채웁니다.

## 오늘의 연습문제 📝
- **문제 1**: 이미지 필터링에서 **컨볼루션(Convolution)** 연산이 무엇인지 설명하고, `[1, 0, -1]` 커널(필터)을 사용하여 수직 엣지를 검출하는 원리를 간단한 예시와 함께 서술하시오.
- **문제 2**: **Sobel 필터**와 **Prewitt 필터**는 모두 엣지를 검출하는 데 사용됩니다. 두 필터의 커널 형태를 비교하고, Sobel 필터가 Prewitt 필터에 비해 어떤 장점을 가지는지 설명하시오.
- **문제 3**: **Average 필터**와 **Median 필터**의 차이점을 설명하고, 특히 'salt-and-pepper' 노이즈가 포함된 이미지를 부드럽게 처리할 때 어떤 필터가 더 효과적인지와 그 이유를 서술하시오.
